import{j as n,b as c,c as u}from"./client.js";import{v as d}from"./vscode.js";function i({indent:e,node:t}){return n.jsxs("div",{style:{whiteSpace:"pre-wrap",fontFamily:"monospace"},children:["    ".repeat(e),o(t,e)]})}function o(e,t){var r;switch((r=e.node)==null?void 0:r.$case){case"include":return l(e.node.include);case"funcDecl":return m(e.node.funcDecl,t);case"variable":return p(e.node.variable);case"literal":return x(e.node.literal);case"return":return j(e.node.return);case"funcCall":return f(e.node.funcCall);case"compStmt":return h(e.node.compStmt,t);default:return"WIP"}}function l(e){return n.jsxs(n.Fragment,{children:["#include ",e.directive]})}function m(e,t){var r;return n.jsxs("div",{children:[n.jsxs("div",{children:[e.returnType," ",e.name," (",e.arguments.map(s=>`${s.dataType} ${s.name}`).join(", "),") ","{"]}),n.jsx(n.Fragment,{children:(r=e.body)==null?void 0:r.elements.map((s,a)=>n.jsx(i,{node:s,indent:t+1},a))}),n.jsx("div",{children:"}"})]})}function p(e){return n.jsxs(n.Fragment,{children:[e.dataType," ",e.name," = ",e.initializer?o(e.initializer,0):"",";"]})}function x(e){return n.jsx(n.Fragment,{children:e.value})}function j(e){return n.jsxs(n.Fragment,{children:["return ",e.expression?o(e.expression,0):"",";"]})}function f(e){return n.jsxs(n.Fragment,{children:[e.name,"(",e.parameters.join(", "),");"]})}function h(e,t){return e.elements.map((r,s)=>n.jsx(i,{node:r,indent:t},s))}function g(){const[e,t]=c.useState({node:void 0});return c.useEffect(()=>{const r=s=>{const a=s.data;t(a.contents)};return window.addEventListener("message",r),d.postMessage({type:"ready"}),()=>{window.removeEventListener("message",r)}},[]),n.jsx("div",{children:n.jsx(i,{node:e,indent:0},0)})}u.createRoot(document.getElementById("root")).render(n.jsx(c.StrictMode,{children:n.jsx(g,{})}));
